(function(e){"use strict";function t(t){return/In/.test(t)||e.inArray(t,e.fn.textillate.defaults.inEffects)>=0}function n(t){return/Out/.test(t)||e.inArray(t,e.fn.textillate.defaults.outEffects)>=0}function r(t){var n=t.attributes||[],r={};if(!n.length)return r;e.each(n,function(e,t){if(/^data-in-*/.test(t.nodeName)){r.in=r.in||{};r.in[t.nodeName.replace(/data-in-/,"")]=t.nodeValue}else if(/^data-out-*/.test(t.nodeName)){r.out=r.out||{};r.out[t.nodeName.replace(/data-out-/,"")]=t.nodeValue}else if(/^data-*/.test(t.nodeName)){r[t.nodeName]=t.nodeValue}});return r}function i(e){for(var t,n,r=e.length;r;t=parseInt(Math.random()*r),n=e[--r],e[r]=e[t],e[t]=n);return e}function s(e,t,n){e.addClass("animated "+t).css("visibility","visible").show();e.one("animationend webkitAnimationEnd oAnimationEnd",function(){e.removeClass("animated "+t);n&&n()})}function o(r,o,u){var a=this,f=r.length;if(!f){u&&u();return}if(o.shuffle)r=i(r);if(o.reverse)r=r.toArray().reverse();e.each(r,function(r,i){function l(){if(t(o.effect)){a.css("visibility","visible")}else if(n(o.effect)){a.css("visibility","hidden")}f-=1;if(!f&&u)u()}var a=e(i);var c=o.sync?o.delay:o.delay*r*o.delayScale;a.text()?setTimeout(function(){s(a,o.effect,l)},c):l()})}var u=function(i,s){var u=this,a=e(i);u.init=function(){u.$texts=a.find(s.selector);if(!u.$texts.length){u.$texts=e('<ul class="texts"><li>'+a.html()+"</li></ul>");a.html(u.$texts)}u.$texts.hide();u.$current=e("<span>").text(u.$texts.find(":first-child").html()).prependTo(a);if(t(s.effect)){u.$current.css("visibility","hidden")}else if(n(s.effect)){u.$current.css("visibility","visible")}u.setOptions(s);setTimeout(function(){u.options.autoStart&&u.start()},u.options.initialDelay)};u.setOptions=function(e){u.options=e};u.triggerEvent=function(t){var n=e.Event(t+".tlt");a.trigger(n,u);return n};u.in=function(i,s){i=i||0;var a=u.$texts.find(":nth-child("+(i+1)+")"),f=e.extend({},u.options,r(a)),l;a.addClass("current");u.triggerEvent("inAnimationBegin");u.$current.text(a.html()).lettering("words");u.$current.find('[class^="word"]').css({display:"inline-block","-webkit-transform":"translate3d(0,0,0)","-moz-transform":"translate3d(0,0,0)","-o-transform":"translate3d(0,0,0)",transform:"translate3d(0,0,0)"}).each(function(){e(this).lettering()});l=u.$current.find('[class^="char"]').css("display","inline-block");if(t(f.in.effect)){l.css("visibility","hidden")}else if(n(f.in.effect)){l.css("visibility","visible")}u.currentIndex=i;o(l,f.in,function(){u.triggerEvent("inAnimationEnd");if(f.in.callback)f.in.callback();if(s)s(u)})};u.out=function(t){var n=u.$texts.find(":nth-child("+(u.currentIndex+1)+")"),i=u.$current.find('[class^="char"]'),s=e.extend({},u.options,r(n));u.triggerEvent("outAnimationBegin");o(i,s.out,function(){n.removeClass("current");u.triggerEvent("outAnimationEnd");if(s.out.callback)s.out.callback();if(t)t(u)})};u.start=function(e){u.triggerEvent("start");(function t(e){u.in(e,function(){var n=u.$texts.children().length;e+=1;if(!u.options.loop&&e>=n){if(u.options.callback)u.options.callback();u.triggerEvent("end")}else{e=e%n;setTimeout(function(){u.out(function(){t(e)})},u.options.minDisplayTime)}})})(e||0)};u.init()};e.fn.textillate=function(t,n){return this.each(function(){var i=e(this),s=i.data("textillate"),o=e.extend(true,{},e.fn.textillate.defaults,r(this),typeof t=="object"&&t);if(!s){i.data("textillate",s=new u(this,o))}else if(typeof t=="string"){s[t].apply(s,[].concat(n))}else{s.setOptions.call(s,o)}})};e.fn.textillate.defaults={selector:".texts",loop:false,minDisplayTime:2e3,initialDelay:0,"in":{effect:"fadeInLeftBig",delayScale:1.5,delay:50,sync:false,reverse:false,shuffle:false,callback:function(){}},out:{effect:"hinge",delayScale:1.5,delay:50,sync:false,reverse:false,shuffle:false,callback:function(){}},autoStart:true,inEffects:[],outEffects:["hinge"],callback:function(){}}})(jQuery)